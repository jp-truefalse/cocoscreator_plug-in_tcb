!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o=e();for(var n in o)("object"==typeof exports?exports:t)[n]=o[n]}}("undefined"!=typeof window?window:this,(function(){return function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){t.exports=o(1)},function(t,e,o){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),u=this&&this.__assign||function(){return(u=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.adapter=e.TTMpWebSocket=e.ttMpStorage=e.TTRequest=void 0;var a=o(2);var i=function(t){function e(e){void 0===e&&(e={});var o=t.call(this)||this,n=e.timeout,r=e.timeoutMsg,u=e.restrictedMethods;return o._timeout=n||0,o._timeoutMsg=r||"请求超时",o._restrictedMethods=u||["get","post","upload","download"],o}return r(e,t),e.prototype.post=function(t){var e=this;return new Promise((function(o,n){var r=null,u=t.url,i=t.data,s=t.headers,c=tt.request({url:a.formatUrl("https:",u),data:i,method:"POST",header:s,success:function(t){e._clearTimeout(r),o(t)},fail:function(t){e._clearTimeout(r),n(t)}});r=e._setTimeout("post",c)}))},e.prototype.upload=function(t){var e=this;return new Promise((function(o){var n=null,r=t.url,i=t.file,s=t.data,c=t.headers,f=tt.uploadFile({url:a.formatUrl("https:",r),name:"file",formData:u(u({},s),{file:i}),filePath:i,header:c,success:function(t){e._clearTimeout(n);var r={statusCode:t.statusCode,data:t.data||{}};200===t.statusCode&&s.success_action_status&&(r.statusCode=parseInt(s.success_action_status,10)),o(r)},fail:function(t){e._clearTimeout(n),o(t)}});n=e._setTimeout("upload",f)}))},e.prototype.download=function(t){var e=this;return new Promise((function(o,n){var r=null,u=t.url,i=t.headers,s=tt.downloadFile({url:a.formatUrl("https:",u),header:i,success:function(t){e._clearTimeout(r),200===t.statusCode&&t.tempFilePath?o({statusCode:200,tempFilePath:t.tempFilePath}):o(t)},fail:function(t){e._clearTimeout(r),n(t)}});r=e._setTimeout("download",s)}))},e.prototype._clearTimeout=function(t){t&&(clearTimeout(t),t=null)},e.prototype._setTimeout=function(t,e){var o=this;return this._timeout&&-1!==this._restrictedMethods.indexOf(t)?setTimeout((function(){console.warn(o._timeoutMsg),e.abort()}),this._timeout):null},e}(a.AbstractSDKRequest);e.TTRequest=i,e.ttMpStorage={setItem:function(t,e){tt.setStorageSync(t,e)},getItem:function(t){return tt.getStorageSync(t)},removeItem:function(t){tt.removeStorageSync(t)},clear:function(){tt.clearStorageSync()}};var s=function(t,e){void 0===e&&(e={});var o=tt.connectSocket(u({url:t},e));return{set onopen(t){o.onOpen(t)},set onmessage(t){o.onMessage(t)},set onclose(t){o.onClose(t)},set onerror(t){o.onError(t)},send:function(t){return o.send({data:t})},close:function(t,e){return o.close({code:t,reason:e})},get readyState(){return o.readyState},CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3}};e.TTMpWebSocket=s;var c={genAdapter:function(){return{root:tt,reqClass:i,wsClass:s,localStorage:e.ttMpStorage,primaryStorage:a.StorageType.local,getAppSign:function(){return JSON.parse(tt.getFileSystemManager().readFileSync("project.config.json","UTF-8")).appid}}},isMatch:function(){return"undefined"!=typeof tt&&(!!tt.getSystemInfoSync&&(!!tt.getStorageSync&&(!!tt.setStorageSync&&(!!tt.connectSocket&&(!!tt.request&&!!tt.getSystemInfoSync())))))},runtime:"tt_mp"};e.adapter=c;try{tt.adapter=c,tt.tcbAdapterTTMp=c,window.adapter=c}catch(t){}e.default=c},function(t,e,o){"use strict";var n;o.r(e),o.d(e,"StorageType",(function(){return n})),o.d(e,"AbstractSDKRequest",(function(){return r})),o.d(e,"AbstractStorage",(function(){return u})),o.d(e,"formatUrl",(function(){return a})),function(t){t.local="local",t.none="none",t.session="session"}(n||(n={}));var r=function(){},u=function(){};function a(t,e,o){void 0===o&&(o={});var n=/\?/.test(e),r="";for(var u in o)""===r?!n&&(e+="?"):r+="&",r+=u+"="+encodeURIComponent(o[u]);return/^http(s)?\:\/\//.test(e+=r)?e:""+t+e}}])}));